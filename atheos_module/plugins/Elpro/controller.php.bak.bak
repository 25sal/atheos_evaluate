<?php

//////////////////////////////////////////////////////////////////////////////80
// Template Controller
//////////////////////////////////////////////////////////////////////////////80
// Copyright (c) 2020 Liam Siira (liam@siira.io), distributed as-is and without
// warranty under the MIT License. See [root]/license.md for more.
// This information must remain intact.
//////////////////////////////////////////////////////////////////////////////80
// Authors: Atheos Team, @hlsiira
//////////////////////////////////////////////////////////////////////////////80

require_once "class.elpro.php";
//require_once "../../common.php";
$plg = new Elpro(SESSION("user"));

//Common::send("notice", "Template controller is an example only");

$api_key = '1234';

// Chiudi la richiesta
//curl_close($request);
//////////////////////////////////////////////////////////////////////////////80
// Get Action
//////////////////////////////////////////////////////////////////////////////80
switch ($action) {
	case "login":
		$token = $plg->py_authenticate($api_key);
		Common::send("JWT_token", $token);
		break;
	////////
	//////////////////////////////////////////////////////////////////80
	// Default: Invalid Action
	//////////////////////////////////////////////////////////////////////////80
	case "test":
		Common::send("success", "Valid action.");
	default:
		Common::send("error", "Invalid action.");
		break;

}
